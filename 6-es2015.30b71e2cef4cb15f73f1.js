(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Yj9t:function(t,e,n){"use strict";n.r(e);var i=n("tyNb"),o=n("3Pt+"),r=n("fXoL"),s=n("qXBG"),a=n("1kSV"),c=n("1y2q"),b=n("/Lhg"),d=n("ofXK"),l=n("0LTx"),p=n("4xY8"),u=n("THq9");const g=["otpModal"];function m(t,e){1&t&&(r.Rb(0,"div",35),r.Nb(1,"app-tf-spinner"),r.Qb())}function h(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",44),r.Rb(1,"button",45),r.dc("click",(function(){return r.xc(t),r.hc(2).error=""})),r.Rb(2,"span",39),r.Fc(3,"\xd7"),r.Qb(),r.Qb(),r.Rb(4,"span"),r.Rb(5,"strong"),r.Fc(6,"Sorry !"),r.Qb(),r.Fc(7),r.Qb(),r.Qb()}if(2&t){const t=r.hc(2);r.zb(7),r.Hc(" ",t.error,"")}}function f(t,e){if(1&t){const t=r.Sb();r.Rb(0,"app-tf-otp-input",46),r.dc("login",(function(e){return r.xc(t),r.hc(2).onSignup(e)}))("resendOtp",(function(){return r.xc(t),r.hc(2).onResendOtp()})),r.Qb()}if(2&t){const t=r.hc(2);r.nc("source",t.f.phoneNumber.value)}}function v(t,e){1&t&&(r.Rb(0,"div",47),r.Nb(1,"app-tf-spinner"),r.Qb())}function R(t,e){if(1&t&&(r.Rb(0,"div",36),r.Rb(1,"h5",37),r.Fc(2,"Confirm your number"),r.Qb(),r.Rb(3,"button",38),r.dc("click",(function(){return(0,e.dismiss)("Cross click")})),r.Rb(4,"span",39),r.Fc(5,"\xd7"),r.Qb(),r.Qb(),r.Qb(),r.Rb(6,"div",40),r.Dc(7,h,8,1,"div",41),r.Dc(8,f,1,1,"app-tf-otp-input",42),r.Dc(9,v,2,0,"ng-template",null,43,r.Ec),r.Qb()),2&t){const t=r.vc(10),e=r.hc();r.zb(7),r.nc("ngIf",e.error),r.zb(1),r.nc("ngIf",!e.loadingOtpModal)("ngIfElse",t)}}const y=function(t){return{"is-invalid":t}};let Q=(()=>{class t{constructor(t,e,n,i,o,r){this.formBuilder=t,this.authService=e,this.router=n,this.route=i,this.modalService=o,this.createTutorProfileService=r,this.submitted=!1,this.loading=!1,this.loadingOtpModal=!1,this.isTutorSingup=!1}ngOnInit(){this.signUpForm=this.formBuilder.group({firstName:["",o.w.required],lastName:["",o.w.required],address:this.formBuilder.group({googlePlaceId:[""],description:[""],type:"CITY"}),phoneNumber:["",o.w.required],password:[""]}),"register/tutor"===this.route.snapshot.routeConfig.path&&(this.isTutorSingup=!0)}get f(){return this.signUpForm.controls}getHeaderText(){return this.isTutorSingup?"Register as a Tutor":"Register as a Student"}getCityInfoText(){return this.isTutorSingup?"Your city helps students to search you by location.":"Your city helps us finding the best tutor for you in your area."}updateAddress(t){this.selectedCity=t,this.signUpForm.patchValue({address:{description:t.formatted_address,googlePlaceId:t.place_id}})}onSendOtp(){this.submitted=!0,this.signUpForm.valid&&(this.loading=!0,this.authService.sendOtpForSignup({phoneNumber:this.f.phoneNumber.value}).subscribe(t=>{this.loading=!1,this.modalService.open(this.otpModalTemplate,{backdrop:"static",windowClass:"otp-modal-signup"}),this.error=""},t=>{this.loading=!1,this.error=t}))}onResendOtp(){this.loadingOtpModal=!0,this.authService.sendOtpForSignup({phoneNumber:this.f.phoneNumber.value}).subscribe(t=>{this.loadingOtpModal=!1,this.error=""},t=>{this.loadingOtpModal=!1,this.error=t})}onSignup(t){if(this.signUpForm.patchValue({password:t}),this.signUpForm.valid){let t;this.loadingOtpModal=!0,t=this.isTutorSingup?this.authService.signupTutor(this.signUpForm.value):this.authService.signup(this.signUpForm.value),t.subscribe(t=>{this.loadingOtpModal=!1,this.error="",this.modalService.dismissAll();let e=this.route.snapshot.queryParams.returnUrl||"/home";this.isTutorSingup&&(t.user.profileCreated||(this.createTutorProfileService.setCurrentStep(1),e="create-profile/basic-details")),this.router.navigate([e])},t=>{this.loadingOtpModal=!1,this.error=t})}}ngAfterViewInit(){document.querySelector("body").classList.add("bg-signup")}ngOnDestroy(){document.querySelector("body").classList.remove("bg-signup")}checkPlace(){this.selectedCity&&this.selectedCity.formatted_address!==this.f.address.value.description&&this.signUpForm.patchValue({address:{googlePlaceId:"",description:""}})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(o.e),r.Mb(s.a),r.Mb(i.b),r.Mb(i.a),r.Mb(a.g),r.Mb(c.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-signup"]],viewQuery:function(t,e){var n;1&t&&r.Jc(g,!0),2&t&&r.uc(n=r.ec())&&(e.otpModalTemplate=n.first)},decls:64,vars:17,consts:[[1,"signup"],[1,"card"],[1,"card-header"],[1,"signup-header"],[1,"text-muted",2,"float","right"],["routerLink","/login",1,"primary"],[1,"card-body"],[1,"mb-4"],[1,"btn","btn-outline","btn-lg","btn-block","google-login-btn"],[1,"mr-3"],["src","https://img.icons8.com/color/24/000000/google-logo.png"],[1,"divider"],[1,"text-center","mb-4","signup-with-phone-text"],[3,"formGroup"],[1,"row"],[1,"form-group","col","mb-4"],["for","firstName"],["type","text","id","firstName","aria-describedby","descriptionFirstName","formControlName","firstName","required","",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["id","descriptionFirstName","hidden","true",1,"form-text","text-muted"],["for","lastName"],["type","text","id","lastName","aria-describedby","descriptionLastName","formControlName","lastName","required","",1,"form-control",3,"ngClass"],["id","descriptionLastName","hidden","true",1,"form-text","text-muted"],[1,"form-group","mb-4"],["for","phoneNumber"],["type","text","id","phoneNumber","aria-describedby","descriptionPhoneNumber","formControlName","phoneNumber","required","",1,"form-control",3,"ngClass"],["id","descriptionPhoneNumber",1,"form-text","text-muted"],["formGroupName","address",1,"form-group","mb-4"],["for","address"],["type","text","id","address","aria-describedby","addressHelpBlock","placeholder","Search your city",1,"form-control",3,"ngClass","focusout","onPlaceSelect"],["id","addressHelpBlock",1,"form-text","text-muted"],["class","text-center mb-3 mt-5",4,"ngIf"],[1,"btn","btn-primary","btn-lg","btn-block",3,"click"],["otpModal",""],[3,"blocked"],[1,"text-center","mb-3","mt-5"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","alert alert-danger alert-dismissible mb-4","role","alert",4,"ngIf"],[3,"source","login","resendOtp",4,"ngIf","ngIfElse"],["loadingSpinner",""],["role","alert",1,"alert","alert-danger","alert-dismissible","mb-4"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],[3,"source","login","resendOtp"],[1,"d-flex","justify-content-center"]],template:function(t,e){1&t&&(r.Nb(0,"app-header"),r.Rb(1,"section",0),r.Rb(2,"div",1),r.Rb(3,"div",2),r.Rb(4,"span",3),r.Fc(5),r.Qb(),r.Rb(6,"span",4),r.Fc(7,"Already signed up ? "),r.Rb(8,"a",5),r.Fc(9,"Login"),r.Qb(),r.Qb(),r.Qb(),r.Rb(10,"div",6),r.Rb(11,"div",7),r.Rb(12,"button",8),r.Rb(13,"span",9),r.Nb(14,"img",10),r.Qb(),r.Fc(15,"Continue with Google "),r.Qb(),r.Qb(),r.Rb(16,"div",11),r.Rb(17,"h6"),r.Rb(18,"span"),r.Fc(19,"or"),r.Qb(),r.Qb(),r.Qb(),r.Rb(20,"p",12),r.Fc(21,"Sign up with your Phone"),r.Qb(),r.Rb(22,"form",13),r.Rb(23,"div"),r.Rb(24,"div",14),r.Rb(25,"div",15),r.Rb(26,"label",16),r.Fc(27,"First name"),r.Qb(),r.Nb(28,"input",17),r.Rb(29,"div",18),r.Fc(30," First name is required. "),r.Qb(),r.Rb(31,"small",19),r.Fc(32,"Please enter your first name."),r.Qb(),r.Qb(),r.Rb(33,"div",15),r.Rb(34,"label",20),r.Fc(35,"Last name"),r.Qb(),r.Nb(36,"input",21),r.Rb(37,"div",18),r.Fc(38," Last name is required. "),r.Qb(),r.Rb(39,"small",22),r.Fc(40,"Please enter your last name."),r.Qb(),r.Qb(),r.Qb(),r.Rb(41,"div",23),r.Rb(42,"label",24),r.Fc(43,"Phone number"),r.Qb(),r.Nb(44,"input",25),r.Rb(45,"div",18),r.Fc(46," Phone number is required "),r.Qb(),r.Rb(47,"small",26),r.Fc(48," Your phone number will be used as the username for login. "),r.Qb(),r.Qb(),r.Rb(49,"div",27),r.Rb(50,"label",28),r.Fc(51,"Where do you live ?"),r.Qb(),r.Rb(52,"input",29),r.dc("focusout",(function(){return e.checkPlace()}))("onPlaceSelect",(function(t){return e.updateAddress(t)})),r.Qb(),r.Rb(53,"div",18),r.Fc(54," Select a valid city "),r.Qb(),r.Rb(55,"small",30),r.Fc(56),r.Qb(),r.Qb(),r.Dc(57,m,2,0,"div",31),r.Nb(58,"hr",7),r.Rb(59,"button",32),r.dc("click",(function(){return e.onSendOtp()})),r.Fc(60," Continue "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Dc(61,R,11,3,"ng-template",null,33,r.Ec),r.Nb(63,"p-blockUI",34)),2&t&&(r.zb(5),r.Gc(e.getHeaderText()),r.zb(17),r.nc("formGroup",e.signUpForm),r.zb(6),r.nc("ngClass",r.rc(9,y,e.submitted&&e.f.firstName.errors)),r.zb(8),r.nc("ngClass",r.rc(11,y,e.submitted&&e.f.lastName.errors)),r.zb(8),r.nc("ngClass",r.rc(13,y,e.submitted&&e.f.phoneNumber.errors)),r.zb(8),r.nc("ngClass",r.rc(15,y,e.submitted&&(e.f.address.get("description").errors||e.f.address.get("googlePlaceId").errors))),r.zb(4),r.Hc(" ",e.getCityInfoText()," "),r.zb(1),r.nc("ngIf",e.loading),r.zb(6),r.nc("blocked",e.loading))},directives:[b.a,i.c,o.y,o.p,o.i,o.b,o.o,o.g,o.u,d.j,o.j,d.l,l.a,p.a,u.a],styles:[".signup[_ngcontent-%COMP%]{display:flex;-ms-flex-align:center;-ms-flex-pack:center;align-items:center;justify-content:center;padding-top:100px;padding-bottom:40px}.form-signup[_ngcontent-%COMP%]{width:100%;max-width:450px;padding:15px;margin:0 auto}.card-header[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px}.signup-header[_ngcontent-%COMP%]{color:var(--body-color)}.google-login-btn[_ngcontent-%COMP%], .signup-header[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:400}.divider[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:30px}.divider[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{width:100%;text-align:center;border-bottom:1px solid #e5e7e8;line-height:.1em;margin:10px 0 20px}.divider[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;color:#777;padding:0 10px}.signup-with-phone-text[_ngcontent-%COMP%]{color:#83878a;font-size:1.1rem;font-weight:400}  .otp-modal-signup{margin-top:120px!important}"]}),t})();var x=n("coIc");const F=["otpModal"];function N(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",20),r.Rb(1,"button",21),r.dc("click",(function(){return r.xc(t),r.hc().error=""})),r.Rb(2,"span",22),r.Fc(3,"\xd7"),r.Qb(),r.Qb(),r.Rb(4,"span"),r.Rb(5,"strong"),r.Fc(6,"Sorry !"),r.Qb(),r.Fc(7),r.Qb(),r.Qb()}if(2&t){const t=r.hc();r.zb(7),r.Hc(" ",t.error,"")}}function O(t,e){1&t&&r.Nb(0,"span",23)}function C(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",20),r.Rb(1,"button",21),r.dc("click",(function(){return r.xc(t),r.hc(2).error=""})),r.Rb(2,"span",22),r.Fc(3,"\xd7"),r.Qb(),r.Qb(),r.Rb(4,"span"),r.Rb(5,"strong"),r.Fc(6,"Sorry !"),r.Qb(),r.Fc(7),r.Qb(),r.Qb()}if(2&t){const t=r.hc(2);r.zb(7),r.Hc(" ",t.error,"")}}function S(t,e){if(1&t){const t=r.Sb();r.Rb(0,"app-tf-otp-input",30),r.dc("login",(function(e){return r.xc(t),r.hc(2).onLogin(e)}))("resendOtp",(function(){return r.xc(t),r.hc(2).onResendOtp()})),r.Qb()}if(2&t){const t=r.hc(2);r.nc("source",t.f.phoneNumber.value)}}function M(t,e){1&t&&(r.Rb(0,"div",31),r.Nb(1,"app-tf-spinner"),r.Qb())}function P(t,e){if(1&t&&(r.Rb(0,"div",24),r.Rb(1,"h5",25),r.Fc(2,"Confirm your number"),r.Qb(),r.Rb(3,"button",26),r.dc("click",(function(){return(0,e.dismiss)("Cross click")})),r.Rb(4,"span",22),r.Fc(5,"\xd7"),r.Qb(),r.Qb(),r.Qb(),r.Rb(6,"div",27),r.Dc(7,C,8,1,"div",8),r.Dc(8,S,1,1,"app-tf-otp-input",28),r.Dc(9,M,2,0,"ng-template",null,29,r.Ec),r.Qb()),2&t){const t=r.vc(10),e=r.hc();r.zb(7),r.nc("ngIf",e.error),r.zb(1),r.nc("ngIf",!e.loadingOtpModal)("ngIfElse",t)}}let w=(()=>{class t{constructor(t,e,n,i){this.authService=t,this.router=e,this.route=n,this.modalService=i,this.loading=!1,this.loadingOtpModal=!1}ngOnInit(){this.loginForm=new o.h({phoneNumber:new o.f("",[o.w.required])})}get f(){return this.loginForm.controls}onSendOtp(){this.loading=!0,this.authService.sendOtp(this.loginForm.value).subscribe(t=>{this.loading=!1,this.modalService.open(this.otpModalTemplate,{backdrop:"static",windowClass:"otp-modal-login"}),this.error=""},t=>{this.loading=!1,this.error=t})}onResendOtp(){this.loadingOtpModal=!0,this.authService.sendOtp(this.loginForm.value).subscribe(t=>{this.loadingOtpModal=!1,this.error=""},t=>{this.loadingOtpModal=!1,this.error=t})}onLogin(t){if(this.loginForm.valid){const e=this.userType===x.h.STUDENT?this.authService.loginStudent(this.loginForm.value.phoneNumber,t):this.authService.loginTutor(this.loginForm.value.phoneNumber,t);this.loadingOtpModal=!0,e.subscribe(t=>{const e=this.route.snapshot.queryParams.returnUrl||"";this.loadingOtpModal=!1,this.modalService.dismissAll(),this.router.navigate([e])},t=>{this.loadingOtpModal=!1,this.error=t})}else this.error="Phone number is not correct. It must have 10 digits"}ngAfterViewInit(){document.querySelector("body").classList.add("bg-login")}ngOnDestroy(){document.querySelector("body").classList.remove("bg-login")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(s.a),r.Mb(i.b),r.Mb(i.a),r.Mb(a.g))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-login"]],viewQuery:function(t,e){var n;1&t&&r.Jc(F,!0),2&t&&r.uc(n=r.ec())&&(e.otpModalTemplate=n.first)},inputs:{userType:"userType"},decls:30,vars:5,consts:[[1,"mt-4"],[1,"mb-4"],[1,"btn","btn-outline","btn-lg","btn-block","google-login-btn"],[1,"mr-3"],["src","https://img.icons8.com/color/24/000000/google-logo.png"],[1,"divider"],[1,"text-center","mb-4","login-with-phone-text"],[3,"formGroup","ngSubmit"],["class","alert alert-danger alert-dismissible mb-4","role","alert",4,"ngIf"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],["aria-describedby","basic-addon1","aria-label","Username","formControlName","phoneNumber","maxlength","1000","placeholder","Phone","required","","type","text",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"mt-5"],[1,"text-muted",2,"float","right"],["routerLink","/signup",1,"primary"],["otpModal",""],[3,"blocked"],["role","alert",1,"alert","alert-danger","alert-dismissible","mb-4"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[3,"source","login","resendOtp",4,"ngIf","ngIfElse"],["loadingSpinner",""],[3,"source","login","resendOtp"],[1,"d-flex","justify-content-center"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"button",2),r.Rb(3,"span",3),r.Nb(4,"img",4),r.Qb(),r.Fc(5,"Continue with Google "),r.Qb(),r.Qb(),r.Rb(6,"div",5),r.Rb(7,"h6"),r.Rb(8,"span"),r.Fc(9,"or"),r.Qb(),r.Qb(),r.Qb(),r.Rb(10,"p",6),r.Fc(11,"Login with your Phone"),r.Qb(),r.Rb(12,"form",7),r.dc("ngSubmit",(function(){return e.onSendOtp()})),r.Dc(13,N,8,1,"div",8),r.Rb(14,"div",9),r.Rb(15,"div",10),r.Rb(16,"span",11),r.Fc(17,"+91"),r.Qb(),r.Qb(),r.Nb(18,"input",12),r.Qb(),r.Rb(19,"button",13),r.Fc(20," Continue "),r.Dc(21,O,1,0,"span",14),r.Qb(),r.Qb(),r.Rb(22,"div",15),r.Rb(23,"span",16),r.Fc(24,"No account yet? "),r.Rb(25,"a",17),r.Fc(26,"Sign up"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Dc(27,P,11,3,"ng-template",null,18,r.Ec),r.Nb(29,"p-blockUI",19)),2&t&&(r.zb(12),r.nc("formGroup",e.loginForm),r.zb(1),r.nc("ngIf",e.error),r.zb(6),r.nc("disabled",!e.loginForm.valid&&e.loading),r.zb(2),r.nc("ngIf",e.loading),r.zb(8),r.nc("blocked",e.loading))},directives:[o.y,o.p,o.i,d.l,o.b,o.o,o.g,o.l,o.u,i.c,l.a,u.a,p.a],styles:[".google-login-btn[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:400}.divider[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:30px}.divider[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{width:100%;text-align:center;border-bottom:1px solid #e5e7e8;line-height:.1em;margin:10px 0 20px}.divider[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;color:#777;padding:0 10px}.login-with-phone-text[_ngcontent-%COMP%]{color:#83878a;font-size:1.1rem;font-weight:400}  .otp-modal-login{margin-top:130px!important}"]}),t})();function k(t,e){if(1&t&&r.Nb(0,"app-login",9),2&t){const t=r.hc();r.nc("userType",t.userType.STUDENT)}}function T(t,e){if(1&t&&r.Nb(0,"app-login",9),2&t){const t=r.hc();r.nc("userType",t.userType.TUTOR)}}let I=(()=>{class t{constructor(){this.userType=x.h}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-login-container"]],decls:15,vars:1,consts:[[1,"login-container"],[1,"card"],[1,"card-body"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[3,"userType"]],template:function(t,e){if(1&t&&(r.Nb(0,"app-header"),r.Rb(1,"section",0),r.Rb(2,"div",1),r.Rb(3,"div",2),r.Rb(4,"ul",3,4),r.Rb(6,"li",5),r.Rb(7,"a",6),r.Fc(8,"For Students"),r.Qb(),r.Dc(9,k,1,1,"ng-template",7),r.Qb(),r.Rb(10,"li",5),r.Rb(11,"a",6),r.Fc(12,"For Tutors"),r.Qb(),r.Dc(13,T,1,1,"ng-template",7),r.Qb(),r.Qb(),r.Nb(14,"div",8),r.Qb(),r.Qb(),r.Qb()),2&t){const t=r.vc(5);r.zb(14),r.nc("ngbNavOutlet",t)}},directives:[b.a,a.h,a.j,a.k,a.i,a.m,w],styles:[".login-container[_ngcontent-%COMP%]{display:flex;-ms-flex-align:center;-ms-flex-pack:center;align-items:center;justify-content:center;padding-top:100px;padding-bottom:40px}.login-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;max-width:450px;padding:15px;margin:0 auto}"]}),t})();var _=n("PCNd"),z=n("Tx//");n.d(e,"AuthModule",(function(){return q}));let q=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[o.t,a.l,_.a,z.a,i.d.forChild([{path:"identify",component:I},{path:"register/student",component:Q},{path:"register/tutor",component:Q}])]]}),t})()}}]);